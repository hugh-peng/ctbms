<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>用户信息</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="./lib/layui/css/layui.css"  media="all">
</head>
<body>
    <div style="position: absolute; left: 50%; top: 50%;width: 500px; margin-left:-250px; margin-top: -200px">
        <span style="color: #009688"><legend>用户头像设置</legend></span>
        <hr>
        <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>拖拽上传</legend>
        </fieldset>
        <div class="layui-upload-drag" id="avatar">
            <i class="layui-icon"></i>
            <p>点击上传，或将文件拖拽到此处</p>
            <div class="layui-hide" id="uploadDemoView">
                <hr>
                <img src="" alt="上传成功后渲染" style="max-width: 196px">
            </div>
        </div>
    </div>

<script src="lib/layui/layui.js" charset="UTF-8"></script>
<script>
    layui.use('upload', function() {
        var $ = layui.jquery
            , upload = layui.upload;
        //普通图片上传
        //拖拽上传
        upload.render({
            elem: '#avatar'
            ,size: 1024
            ,url: 'upload.php' //改成您自己的上传接口
            ,done: function(res){
                if (res['code'] == 1){
                    layer.msg('上传成功');
                    $('#uploadDemoView').removeClass('layui-hide').find('img').attr('src', res['src']);
                    console.log(res)
                }else {
                    layer.msg('上传失败');
                }

            }
        });
    });
</script>
</body>
</html>
